CREATE TABLE FichaTecnica (
  ficha_id        INT AUTO_INCREMENT PRIMARY KEY,
  sku             VARCHAR(50)  NOT NULL UNIQUE,
  nombre          VARCHAR(100) NOT NULL,
  descripcion     TEXT,
  precio_unitario DECIMAL(10,2) NOT NULL,
  fecha_alta      DATE         NOT NULL DEFAULT CURRENT_DATE,
  cantidad        INT(5) NOT NULL DEFAULT 1 
);

CREATE TABLE categoria (
   categoria_id INT AUTO_INCREMENT PRIMARY KEY,
   nombre  VARCHAR(30) NOT NULL
); 

CREATE TABLE Producto (
  producto_id    INT AUTO_INCREMENT PRIMARY KEY,
  ficha_id       INT NOT NULL,
  codigo_barras  VARCHAR(100) UNIQUE,
  fecha_ingreso  DATE    NOT NULL,
  estado         VARCHAR(50) NOT NULL DEFAULT 'OK',
  categoria_id INT NOT NULL,
  FOREIGN KEY (categoria_id) REFERENCES categoria(categoria_id),                                       
  FOREIGN KEY (ficha_id) REFERENCES FichaTecnica(ficha_id)

);
CREATE TABLE Transaccion (
  trans_id         INT AUTO_INCREMENT PRIMARY KEY,
  producto_id      INT NOT NULL,
  fecha            DATE NOT NULL,
  tipo             VARCHAR(50) NOT NULL,
  cantidad         INT NOT NULL DEFAULT 1,
  precio_unitario  DECIMAL(10,2) NOT NULL,
  usuario          VARCHAR(50),
  notas            TEXT,
  FOREIGN KEY (producto_id) REFERENCES Producto(producto_id)
);
